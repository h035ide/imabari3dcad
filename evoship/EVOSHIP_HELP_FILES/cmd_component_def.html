<!DOCTYPE html>
<html lang="ja">
<head>
  <meta name="GENERATOR" content="HelpMachine 2.4.9" />
  <meta http-equiv="content-type" content="text/html; charset=Shift_JIS" />
  <link href="basic.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="script/util.js"></script>
  <title>コンポーネント定義</title>
</head>
<body>
<div class="page">
  <h2><img src="media/cmd_component_def.png" /> コンポーネント定義</h2>
  <div class="contents">
  <p>複数の要素をまとめてひとつの<a href="about_component.html">コンポーネント</a>という部品にして再利用できるようにします。<a href="about_component.html#configuration">コンフィグレーション</a>機能を使って、各部寸法や配管の径が異なるバリエーション部品を簡単に呼び出せるようにすることもできます。</p>
  <h3>操作方法</h3>
  <p>コンポーネントにしたい要素を選択し、必要であればパイプの接続位置や接続する配管の種類、コンポーネントの重量などを指定してOKをクリックします。</p>
  <h3>パラメーター</h3>
  <dl>
    <dt><strong>名称</strong><p><img src="media/dlg_component_def_name.png" /></p></dt>
    <dd><p>コンポーネント定義を識別するための名前を指定します。コンポーネントを配置すると、この名前がそのままコンポーネント名として使われます。</p></dd>
    <dt><strong>構成要素</strong><p><img src="media/dlg_component_def_elements.png" /></p></dt>
    <dd><p>コンポーネントに含める要素を選択します。</p></dd>
    <dt><strong>位置定義点</strong><p><img src="media/dlg_component_def_points.png"></p></dt>
    <dd><p>コンポーネントを配置・移動する際の基準となる点を指定します。マニピュレータによる配置・移動時には位置定義点がマニピュレータの原点になります。位置定義点を複数指定しておくと、マニピュレータの原点位置を各定義点に順番に切り替えていくことができます。また各種拘束によりコンポーネントを配置・移動したり、寸法を追加したりする際にも、位置定義点を基準点として使うことができます。</p></dd>
    <dt><strong>接続位置</strong><p><img src="media/dlg_component_def_connection_points.png" /></p></dt>
    <dd><p>コンポーネントにパイプを接続する位置を定義します。接続名と接続点の位置および方向を指定して「追加」ボタンをクリックします。接続位置に各種配管属性を指定しておくと、接続位置から<a href="cmd_comp_piping.html">パイプを作成</a>する際にパイプにも自動的に同じ属性が設定されたり、<a href="cmd_pipe_spool_verify.html">属性が一致しないパイプが接続されていることを検出</a>できたりします。</p></dd>
    <dt><strong>配管仕上長基準点</strong><p><img src="media/dlg_component_def_piping_center.png" /></p></dt>
    <dd><p>配管一品図における仕上長（仮想交点を基準とする長さ）の基準点を指定します。未指定の場合にはひとつめの位置定義点（あれば）が基準点となります。</p></dd>
    <dt><strong>配管タイプ</strong><p><img src="media/dlg_component_def_pipe_type.png" /></p></dt>
    <dd><p>標準部品に登録されていないフランジをコンポーネントとして作成した場合に、配管タイプを「フランジ」に設定しておくと、配管一品図の部品表に抜き代が表示されます。抜き代は配管仕上長基準点から接続位置（複数あった場合は基準点から最も遠いもの）までの距離として定義されます。</p></dd>
    <dt><strong>重心設定</strong><p><img src="media/dlg_component_def_cog.png" /></p></dt>
    <dd><p><a href="cmd_mass_prop.html">質量特性の算出</a>時に使われる重心位置をコンポーネントで独自に設定できます。</p></dd>
    <dt><strong>質量設定</strong><p><img src="media/dlg_component_def_weight.png" /></p></dt>
    <dd><p><a href="cmd_mass_prop.html">質量特性の算出</a>時に使われる質量をコンポーネントで独自に設定できます。</p></dd>
    <dt><strong>質量特性の計算</strong><p><img src="media/dlg_component_def_mass_property.png" /></p></dt>
    <dd><p>部品の可動範囲をモデリングしておいて、<a href="cmd_check_interference.html">干渉チェック</a>で周辺部品とのクリアランスを確認する手法があります。このとき、可動範囲を半透明にして実体のある部品ではないことを明確にするのが一般的ですが、本オプションの「半透明要素を除外」をチェックしておくと、重量や重心の計算時に可動範囲部分を無視することができます（既定でON）。</p><img src="media/sample_component_def_exclude_transparent.png" /></dd>
    <dt><strong>コンフィグレーション</strong><p><img src="media/dlg_component_def_configuration.png" /></p></dt>
    <dd><p>「編集」ボタンをクリックすると以下のウィンドウが表示され、<a href="about_component.html#configuration">コンポーネントコンフィグレーション</a>を設定できます。</p>
    <img src="media/dlg_component_configuration_plain.png" />
    <p>「追加」ボタンをクリックするとリストの末尾に一行追加されます。追加された行を編集して、コンフィグレーション名と、コンポーネントの配置時に適用する<a href="cmd_variable_configuration.html">変数コンフィグレーション</a>を指定してください。</p>
    <p>さらに、CSV形式の設定ファイルを利用すると、コンポーネントコンフィグレーションに接続位置のパラメーターを含めたり、サブコンポーネントがあればそのサブコンポーネントのもつコンフィグレーションのうちどれを適用するかを指定したりすることができます。<!--introduced with v1.1.144.191--></p>
    <dl>
      <dt>設定ファイルの例：</dt><dd><img src="media/sample_component_def_config_file_1.png" /><img src="media/sample_component_def_config_file_2.png" /></dd>
      <dt>設定ファイルの書式：</dt>
      <dd>
      <p>1列目には、有効なデータであることを示す「*」を記入します。1列目に「*」のない行は、ヘッダ行あるいはコメント行とみなされて無視されます。</p>
      <p>2列目ではコンフィグレーション名を</p>
      <p>3列目では使用する変数コンフィグレーション名（なければ空欄）を指定します。</p>
      <p>4列名以降は下記のようになります。</p>
      <ul>
        <li>「*SC」を指定すると、その右側の2列がサブコンポーネントのコンフィグレーション設定となります。
        <ul>
          <li>1列目：サブコンポーネント名称</li>
          <li>2列目：サブコンポーネントに適用するコンフィグレーション名</li>
        </ul>
        </li>
        <li>「*CP」を指定すると、その右側は6列単位で接続位置設定となります。
        <ul>
          <li>1列目：接続点名</li>
          <li>2列目：フランジ種別（設定ファイルEvShipPipeStandard.csv内のフランジIDを指定）、省略可</li>
          <li>3列目：呼び径（文字列による指定。例：10A, 80A,...）</li>
          <li>4列目：配管種類 (文字列による指定。例：SGP, STPA12,... ）</li>
          <li>5列目：呼び厚 (文字列による指定。例：SGP, SCH40,... ）</li>
          <li>6列目：流れ方向（未定義は空欄、流出は1、流入は2）</li>
        </ul>
        接続位置は何組でも指定可能です。上記1〜6列目を繰り返してください（「*CP」指定は最初のひとつだけでかまいません）。
        </li>
        <li>「*NOTE」を指定すると、その右側は2列単位で注記文字列設定となります。
        <ul>
          <li>1列名：注記の要素名</li>
          <li>2列目：注記テキスト</li>
        </ul>
        注記文字列設定は何組でも指定可能です。上記の2列を繰り返してください（「*NOTE」指定は最初のひとつだけでかまいません）。
        </li>
      </ul>
      </dd>
    </dl>
    </dd>
    <dt><strong>表示状態</strong><p><img src="media/dlg_component_def_shape.png" /></p></dt>
    <dd><p>コンポーネントの<a href="about_component.html#shapes">表示状態</a>を編集します。</p>
    <p>新しい表示状態を追加するには、名前を入力し、「構成要素」選択リストボックスで表示対象となる構成要素を選択し、「追加」をクリックします。</p>
    <p>選択した構成要素に配置済みのコンポーネント（サブコンポーネント）が含まれていた場合には、コンポーネントごとにさらに表示状態を指定できます。表示状態リスト上の項目をクリックすると、設定ダイアログが表示されますので、各サブコンポーネントの表示状態を選択してください。</p>
    <p><img src="media/dlg_component_def_subcomponent_shape.png" /></p>
    <p>表示状態リスト上では、表示状態の名前を直接変更することができます。また表示状態の構成要素を変更したいときは、変更したい項目をリストで選択し、構成要素を選択しなおして、「更新」ボタンをクリックしてください。現在の選択内容で置き換えられます。</p>
    </dd>
  </dl>
  </div>
</div>
</body>
</html>
